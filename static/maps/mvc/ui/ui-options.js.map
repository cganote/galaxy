{"version":3,"sources":["mvc/ui/ui-options.js"],"names":["Backbone","_","Base","View","extend","initialize","options","self","model","Model","visible","data","id","Utils","uid","error_text","wait_text","multiple","optional","onchange","set","listenTo","_changeValue","_changeWait","_changeData","_changeVisible","on","get","value","render","$el","empty","removeClass","addClass","append","$message","$","$menu","$options","_template","all_button","Buttons","ButtonCheck","onclick","prop","_getValue","trigger","update","input_def","_templateOptions","each","_templateOption","option","tooltip","title","placement","length","_messageShow","hide","css","show","_setValue","first","isArray","new_value","undefined","val","wait","unwait","values","v","selected","push","isEmpty","text","status","html","BaseIcons","pair","attr","type","name","label","Radio","prototype","call","Checkbox","RadioButton","closest","icon"],"mappings":"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","file":"../../../scripts/mvc/ui/ui-options.js","sourcesContent":["/** Base class for options based ui elements **/\nimport * as Backbone from \"backbone\";\nimport * as _ from \"underscore\";\nimport Utils from \"utils/utils\";\nimport Buttons from \"mvc/ui/ui-buttons\";\n\n/* global $ */\n\nvar Base = Backbone.View.extend({\n    initialize: function(options) {\n        var self = this;\n        this.model =\n            (options && options.model) ||\n            new Backbone.Model({\n                visible: true,\n                data: [],\n                id: Utils.uid(),\n                error_text: \"No options available.\",\n                wait_text: \"Please wait...\",\n                multiple: false,\n                optional: false,\n                onchange: function() {}\n            }).set(options);\n        this.listenTo(this.model, \"change:value\", this._changeValue, this);\n        this.listenTo(this.model, \"change:wait\", this._changeWait, this);\n        this.listenTo(this.model, \"change:data\", this._changeData, this);\n        this.listenTo(this.model, \"change:visible\", this._changeVisible, this);\n        this.on(\"change\", () => {\n            self.model.get(\"onchange\")(self.value());\n        });\n        this.render();\n    },\n\n    render: function() {\n        var self = this;\n        this.$el\n            .empty()\n            .removeClass()\n            .addClass(\"ui-options\")\n            .append((this.$message = $(\"<div/>\")))\n            .append((this.$menu = $(\"<div/>\").addClass(\"ui-options-menu\")))\n            .append((this.$options = $(this._template())));\n\n        // add select/unselect all button\n        this.all_button = null;\n        if (this.model.get(\"multiple\")) {\n            this.all_button = new Buttons.ButtonCheck({\n                onclick: function() {\n                    self.$(\"input\").prop(\"checked\", self.all_button.value() !== 0);\n                    self.value(self._getValue());\n                    self.trigger(\"change\");\n                }\n            });\n            this.$menu.append(this.all_button.$el);\n        }\n\n        // finalize dom\n        this._changeData();\n        this._changeWait();\n        this._changeVisible();\n    },\n\n    /** Update available options */\n    update: function(input_def) {\n        if (input_def.data) {\n            this.model.set(\"data\", input_def.data);\n        }\n    },\n\n    _changeData: function() {\n        var self = this;\n        this.$options.empty();\n        if (this._templateOptions) {\n            this.$options.append(this._templateOptions(this.model.get(\"data\")));\n        } else {\n            _.each(this.model.get(\"data\"), option => {\n                self.$options.append(\n                    $(self._templateOption(option))\n                        .addClass(\"ui-option\")\n                        .tooltip({\n                            title: option.tooltip || \"\",\n                            placement: \"bottom\"\n                        })\n                );\n            });\n        }\n        this.$(\"input\").on(\"change\", () => {\n            self.value(self._getValue());\n            self.trigger(\"change\");\n        });\n        this._changeValue();\n        this._changeWait();\n    },\n\n    _changeVisible: function() {\n        this.$el[this.model.get(\"visible\") ? \"show\" : \"hide\"]();\n    },\n\n    _changeWait: function() {\n        if (this.model.get(\"wait\")) {\n            if (this.length() === 0) {\n                this._messageShow(this.model.get(\"wait_text\"), \"info\");\n                this.$options.hide();\n                this.$menu.hide();\n            }\n        } else {\n            if (this.length() === 0) {\n                this._messageShow(this.model.get(\"error_text\"), \"danger\");\n                this.$options.hide();\n                this.$menu.hide();\n            } else {\n                this.$message.hide();\n                this.$options.css(\"display\", \"inline-block\");\n                this.$menu.show();\n            }\n        }\n    },\n\n    _changeValue: function() {\n        this._setValue(this.model.get(\"value\"));\n        if (this._getValue() === null && !this.model.get(\"multiple\") && !this.model.get(\"optional\")) {\n            this._setValue(this.first());\n        }\n        if (this.all_button) {\n            this.all_button.value($.isArray(this._getValue()) ? this._getValue().length : 0, this.length());\n        }\n    },\n\n    /** Return/Set current selection */\n    value: function(new_value) {\n        if (new_value !== undefined) {\n            this.model.set(\"value\", new_value);\n        }\n        return this._getValue();\n    },\n\n    /** Return first available option */\n    first: function() {\n        var options = this.$(\"input\").first();\n        return options.length > 0 ? options.val() : null;\n    },\n\n    /** Show a spinner indicating that the select options are currently loaded */\n    wait: function() {\n        this.model.set(\"wait\", true);\n    },\n\n    /** Hide spinner indicating that the request has been completed */\n    unwait: function() {\n        this.model.set(\"wait\", false);\n    },\n\n    /** Returns the number of options */\n    length: function() {\n        return this.$(\".ui-option\").length;\n    },\n\n    /** Set value to dom */\n    _setValue: function(new_value) {\n        var self = this;\n        if (new_value !== undefined) {\n            this.$(\"input\").prop(\"checked\", false);\n            if (new_value !== null) {\n                var values = $.isArray(new_value) ? new_value : [new_value];\n                _.each(values, v => {\n                    self.$(`input[value=\"${v}\"]`)\n                        .first()\n                        .prop(\"checked\", true);\n                });\n            }\n        }\n    },\n\n    /** Return current selection */\n    _getValue: function() {\n        var selected = [];\n        this.$(\":checked\").each(function() {\n            selected.push($(this).val());\n        });\n        if (Utils.isEmpty(selected)) {\n            return null;\n        }\n        return this.model.get(\"multiple\") ? selected : selected[0];\n    },\n\n    /** Show message instead if options */\n    _messageShow: function(text, status) {\n        this.$message\n            .show()\n            .removeClass()\n            .addClass(`ui-message alert alert-${status}`)\n            .html(text);\n    },\n\n    /** Main template function */\n    _template: function() {\n        return $(\"<div/>\").addClass(\"ui-options-list\");\n    }\n});\n\n/** Iconized **/\nvar BaseIcons = Base.extend({\n    _templateOption: function(pair) {\n        var id = Utils.uid();\n        return $(\"<div/>\")\n            .addClass(\"ui-option\")\n            .append(\n                $(\"<input/>\").attr({\n                    id: id,\n                    type: this.model.get(\"type\"),\n                    name: this.model.id,\n                    value: pair.value\n                })\n            )\n            .append(\n                $(\"<label/>\")\n                    .addClass(\"ui-options-label\")\n                    .attr(\"for\", id)\n                    .html(pair.label)\n            );\n    }\n});\n\n/** Radio button field **/\nvar Radio = {};\nRadio.View = BaseIcons.extend({\n    initialize: function(options) {\n        options.type = \"radio\";\n        BaseIcons.prototype.initialize.call(this, options);\n    }\n});\n\n/** Checkbox options field **/\nvar Checkbox = {};\nCheckbox.View = BaseIcons.extend({\n    initialize: function(options) {\n        options.type = \"checkbox\";\n        options.multiple = true;\n        BaseIcons.prototype.initialize.call(this, options);\n    }\n});\n\n/** Radio button options field styled as classic buttons **/\nvar RadioButton = {};\nRadioButton.View = Base.extend({\n    initialize: function(options) {\n        Base.prototype.initialize.call(this, options);\n    },\n\n    /** Set current value */\n    _setValue: function(new_value) {\n        if (new_value !== undefined) {\n            this.$(\"input\").prop(\"checked\", false);\n            this.$(\"label\").removeClass(\"active\");\n            this.$(`[value=\"${new_value}\"]`)\n                .prop(\"checked\", true)\n                .closest(\"label\")\n                .addClass(\"active\");\n        }\n    },\n\n    /** Template for a single option */\n    _templateOption: function(pair) {\n        var $el = $(\"<label/>\").addClass(\"btn btn-secondary\");\n        if (pair.icon) {\n            $el.append(\n                $(\"<i/>\")\n                    .addClass(\"fa\")\n                    .addClass(pair.icon)\n                    .addClass(!pair.label && \"no-padding\")\n            );\n        }\n        $el.append(\n            $(\"<input/>\").attr({\n                type: \"radio\",\n                name: this.model.id,\n                value: pair.value\n            })\n        );\n        if (pair.label) {\n            $el.append(pair.label);\n        }\n        return $el;\n    },\n\n    /** Main template function */\n    _template: function() {\n        return $(\"<div/>\").addClass(\"btn-group ui-radiobutton\");\n    }\n});\n\nexport default {\n    Base: Base,\n    BaseIcons: BaseIcons,\n    Radio: Radio,\n    RadioButton: RadioButton,\n    Checkbox: Checkbox\n};\n"]}